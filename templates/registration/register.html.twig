{% extends 'base.html.twig' %}

{% block title %}Create an account | YourSaaS{% endblock %}

{% block body %}
    <div class="min-h-screen bg-gray-50 flex flex-col">

        {# Back to home #}
        <div class="p-6">
            {% include 'components/back_to_home.html.twig' %}
        </div>

        {# Centered container #}
        <div class="flex flex-1 items-center justify-center px-6">
            <div class="w-full max-w-md bg-white rounded-2xl shadow-xl p-8 space-y-6">

                {# Title #}
                <div class="text-center">
                    <h1 class="text-3xl font-extrabold text-gray-900">
                        Create your account
                    </h1>
                    <p class="mt-2 text-sm text-gray-500">
                        Start using YourSaaS in minutes
                    </p>
                </div>

                {# Flash errors #}
                {% for flash_error in app.flashes('verify_email_error') %}
                    <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
                        {{ flash_error }}
                    </div>
                {% endfor %}

                {{ form_start(registrationForm, {
                    'attr': { 'class': 'space-y-5' }
                }) }}

                {{ form_errors(registrationForm) }}

                {# Email #}
                <div class="text-black">
                    {{ form_label(
                        registrationForm.email,
                        null,
                        { 'label_attr': { 'class': 'block text-sm font-medium text-gray-700' } }
                    ) }}

                    {{ form_widget(
                        registrationForm.email,
                        {
                            'attr': {
                            'placeholder': 'you@example.com',
                            'class': 'mt-1 w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm
                                      focus:border-blue-500 focus:ring-blue-500 focus:outline-none'
                        }
                        }
                    ) }}

                    {{ form_errors(registrationForm.email) }}
                </div>

                {# Password #}
                <div class="text-black">
                    {{ form_label(
                        registrationForm.plainPassword,
                        'Password',
                        { 'label_attr': { 'class': 'block text-sm font-medium text-gray-700' } }
                    ) }}

                    {{ form_widget(
                        registrationForm.plainPassword,
                        {
                            'attr': {
                            'placeholder': '••••••••',
                            'class': 'mt-1 w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm
                                      focus:border-blue-500 focus:ring-blue-500 focus:outline-none'
                        }
                        }
                    ) }}

                    {{ form_errors(registrationForm.plainPassword) }}
                </div>

                {# Agree terms #}
                <div class="flex items-start gap-2 text-sm text-gray-600">
                    {{ form_widget(
                        registrationForm.agreeTerms,
                        {
                            'attr': {
                            'class': 'mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500'
                        }
                        }
                    ) }}

                    {{ form_label(
                        registrationForm.agreeTerms,
                        null,
                        { 'label_attr': { 'class': 'leading-snug' } }
                    ) }}
                </div>

                {{ form_errors(registrationForm.agreeTerms) }}

                {# Submit #}
                <button
                    type="submit"
                    class="w-full rounded-xl bg-green-500 py-3 text-white font-semibold
                       hover:bg-green-600 transition focus:outline-none focus:ring-2
                       focus:ring-green-500 focus:ring-offset-2"
                >
                    Create account
                </button>

                {{ form_end(registrationForm) }}

                {# Footer #}
                <p class="text-center text-sm text-gray-500">
                    Already have an account?
                    <a href="{{ path('app_login') }}" class="text-blue-600 font-medium hover:underline">
                        Sign in
                    </a>
                </p>

            </div>
        </div>
    </div>
{% endblock %}
